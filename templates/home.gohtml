<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
</head>

<body data-bs-theme="dark">
<h1>Musher Standings</h1>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Position</th>
      <th scope="col">Name</th>
      <th scope="col">Bib</th>
      <th scope="col">LatestCheckpoint
         <table class="table mb-0">
           <thead>
            <th scope="col">Name</th>
            <th scope="col">DogsIn</th>
            <th scope="col">DogsOut</th>
          </thead>
          </table>
       </th>
      <th scope="col">Speed</th>
      <th scope="col">Status</th>
    </tr>
  </thead>
  <tbody>
{{range .}}

    <tr {{if eq .Status "Scratched" }}class="bg-danger-subtle"{{end}}>
      <th scope="row">{{if eq .Status "Scratched" }}-{{else}}{{.CurrentPos}}{{end}}</th>
      <td {{if .Rookie}}class="bg-primary-subtle"{{end}}>{{.Name}}</td>
      <td>{{.Bib}}</td>
      <td colspan="1">
       <table class="table mb-0">
          <tbody>
            {{if .InCheckpoint}}
            <tr class="bg-info-subtle">
            {{else}}
            <tr class="bg-warning-subtle">
            {{end}}
              <td>{{.LatestCheckpoint.Name}}</td>
              <td>{{.LatestCheckpoint.DogsIn}}</td>
              <td>{{if gt .LatestCheckpoint.DogsOut 0}}
              {{.LatestCheckpoint.DogsOut}}
              {{else}}
              --
              {{end}}
              </td>
            </tr>
          </tbody>
        </table>
      </td>
      <td>{{.Speed}}</td>
      <td>{{if eq .Status "Scratched" }}Scratched{{else if not .Status }}Racing{{else}}{{.Status}} {{end}}</td>
    </tr>

{{else}}
<div><strong>no rows</strong></div>
{{end}}
  </tbody>
</table>

</body>

</html>